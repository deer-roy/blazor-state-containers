@* ReSharper disable once InconsistentNaming *@
@inject NameStateContainer _NameStateContainer;
@implements IDisposable

<h3>Edit name</h3>
<input type="text" @bind="_newName">
<button class="btn btn-primary" @onclick="SaveName">Save</button>
@code {
  string _newName = "";

  protected override void OnInitialized()
  {
    base.OnInitialized();
    _newName = _NameStateContainer.Name;
    
    _NameStateContainer.OnChange += () => {
      _newName = _NameStateContainer.Name;
      StateHasChanged();
    };
  }



  void SaveName()
  {
    _NameStateContainer.Name = _newName;
  }
  public void Dispose()
  {
    _NameStateContainer.OnChange -= StateHasChanged;
  }
}